# Aegis Backup Tools

A few simple CLI tools useful to manage [Aegis Authenticator](https://github.com/beemdevelopment/Aegis) vault backups.

As we consider a good practice to avoid storing unencrypted secrets, they are designed
to work only with standard input and standard output.

  * The tools rely on the official [decrypt.py](https://github.com/beemdevelopment/Aegis/blob/master/docs/decrypt.py)
    script that you should download to decrypt the encrypted vault backups:
    ```
    ./decrypt.py --input <encrypted-vault.json>
    ``` 
  * `json_to_uri.py` then allows to convert the decrypted json file into the standard
    [otpauth:// URI format](https://github.com/google/google-authenticator/wiki/Key-Uri-Format):
    ```
    ./decrypt.py --input <encrypted-vault.json> | ./json_to_uri.py
    ```
  * `uri_to_qr.sh` subsequently allows to
    convert the otpauth:// URIs into QR codes (using [qrencode](https://fukuchi.org/works/qrencode/)),
    and to display them (using the `display` tool from [ImageMagick](https://imagemagick.org)),
    while showing in the terminal the corresponding labels.
    This enables to easily import them selectively in Aegis, or in any other OTP app:
    ```
    ./decrypt.py --input <encrypted-vault.json> | ./json_to_uri.py | ./uri_to_qr.sh
    ```
    Note that this script can also be used with data generated by any other OTP application
    that supports the otpauth:// URI format.
